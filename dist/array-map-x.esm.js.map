{"version":3,"sources":["../src/array-map-x.js"],"names":[],"mappings":"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","file":"array-map-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\nimport all from 'array-all-x';\nimport toBoolean from 'to-boolean-x';\nimport methodize from 'simple-methodize-x';\nimport call from 'simple-call-x';\n\nconst nm = [].map;\nconst nativeMap = typeof nm === 'function' && methodize(nm);\n\nconst identity = function identity(item) {\n  return item;\n};\n\nconst test1 = function test1() {\n  const res = attempt(function attemptee() {\n    return nativeMap([1, 2], identity);\n  });\n\n  return res.threw === false && res.value && res.value.length === 2 && res.value[0] === 1 && res.value[1] === 2;\n};\n\nconst test2 = function test2() {\n  const res = attempt(function attemptee() {\n    return nativeMap(toObject('ab'), identity);\n  });\n\n  return res.threw === false && res.value && res.value.length === 2 && res.value[0] === 'a' && res.value[1] === 'b';\n};\n\nconst test3 = function test3() {\n  const res = attempt(function attemptee() {\n    const args = (function returnArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })(1, 2);\n\n    return nativeMap(args, identity);\n  });\n\n  return res.threw === false && res.value && res.value.length === 2 && res.value[0] === 1 && res.value[1] === 2;\n};\n\nconst test4 = function test4() {\n  const res = attempt(function attemptee() {\n    return nativeMap({0: 1, 2: 2, length: 3}, identity);\n  });\n\n  return res.threw === false && res.value && res.value.length === 3 && !(1 in res.value);\n};\n\nconst getResultTest5 = function getResultTest5(res, div) {\n  return res.threw === false && res.value && res.value.length === 1 && res.value[0] === div;\n};\n\nconst doc = typeof document !== 'undefined' && document;\n\nconst test5 = function test5() {\n  if (doc) {\n    const fragment = doc.createDocumentFragment();\n    const div = doc.createElement('div');\n    fragment.appendChild(div);\n    const res = attempt(function attemptee() {\n      return nativeMap(fragment.childNodes, identity);\n    });\n\n    return getResultTest5(res, div);\n  }\n\n  return true;\n};\n\nconst isStrict = (function returnIsStrict() {\n  /* eslint-disable-next-line babel/no-invalid-this */\n  return toBoolean(this) === false;\n})();\n\nconst test6 = function test6() {\n  if (isStrict) {\n    let spy = null;\n\n    const testThis = function testThis() {\n      /* eslint-disable-next-line babel/no-invalid-this */\n      spy = typeof this === 'string';\n    };\n\n    const res = attempt(function attemptee() {\n      return nativeMap([1], testThis, 'x');\n    });\n\n    return res.threw === false && res.value && res.value.length === 1 && spy === true;\n  }\n\n  return true;\n};\n\nconst test7 = function test7() {\n  const spy = {};\n  const fn =\n    'return nativeMap(\"foo\", function (_, __, context) {' +\n    'if (castBoolean(context) === false || typeof context !== \"object\") {' +\n    'spy.value = true;}});';\n\n  const res = attempt(function attemptee() {\n    /* eslint-disable-next-line no-new-func */\n    return Function('nativeMap', 'spy', 'castBoolean', fn)(nativeMap, spy, toBoolean);\n  });\n\n  return res.threw === false && res.value && res.value.length === 3 && spy.value !== true;\n};\n\nconst isWorking = toBoolean(nativeMap) && test1() && test2() && test3() && test4() && test5() && test6() && test7();\n\nconst patchedMap = function map(array, callBack /* , thisArg */) {\n  /* eslint-disable-next-line prefer-rest-params */\n  return nativeMap(requireObjectCoercible(array), assertIsFunction(callBack), arguments[2]);\n};\n\nexport const implementation = function map(array, callBack /* , thisArg */) {\n  const object = toObject(array);\n  // If no callback function or if callback is not a callable function\n  assertIsFunction(callBack);\n  const result = [];\n  const iteratee = function iteratee() {\n    /* eslint-disable-next-line prefer-rest-params */\n    const i = arguments[1];\n\n    /* eslint-disable-next-line prefer-rest-params */\n    if (i in arguments[2]) {\n      /* eslint-disable-next-line babel/no-invalid-this,prefer-rest-params */\n      result[i] = call(callBack, this, [arguments[0], i, object]);\n    }\n  };\n\n  /* eslint-disable-next-line prefer-rest-params */\n  all(object, iteratee, arguments[2]);\n\n  return result;\n};\n\n/**\n * This method creates a new array with the results of calling a provided\n * function on every element in the calling array.\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function that produces an element of the Array.\n * @param {*} [thisArg] - Value to use as this when executing callback.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n * @returns {Array} A new array with each element being the result of the\n * callback function.\n */\nconst $map = isWorking ? patchedMap : implementation;\n\nexport default $map;\n"]}